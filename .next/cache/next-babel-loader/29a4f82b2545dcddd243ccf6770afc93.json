{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/george.fitzgibbons/dev/nextJS/finished-application/frontend/components/Item.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Link from \"next/link\";\nimport Title from \"./styles/Title\";\nimport ItemStyles from \"./styles/ItemStyles\";\nimport PriceTag from \"./styles/PriceTag\";\nimport formatMoney from \"../lib/formatMoney\";\nimport Parser from \"html-react-parser\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nconst buttonStyles = {\n  fontSize: \"13px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  outline: \"none\",\n  padding: \"12px 60px\",\n  boxShadow: \"2px 5px 10px rgba(0,0,0,.1)\",\n  backgroundColor: \"rgb(255, 178, 56)\",\n  borderRadius: \"6px\",\n  letterSpacing: \"1.5px\"\n};\nexport default class Item extends Component {\n  async redirectToCheckout(event) {\n    event.preventDefault();\n    console.log(\"prop\", this.props.item.node.entityId);\n    axios.post(\"https://3htij6awx3.execute-api.us-east-1.amazonaws.com/dev/cart\", {\n      channel_id: 20825,\n      line_items: [{\n        quantity: 1,\n        product_id: this.props.item.node.entityId\n      }]\n    }).then(checkoutData => {\n      console.log(\"test\", {\n        checkoutData: JSON.parse(checkoutData.data)\n      });\n      const checkoutDataPass = JSON.parse(checkoutData.data);\n      console.log(\"url\", checkoutDataPass.data.embedded_checkout_url);\n      const checkoutUrl = checkoutData.data.embedded_checkout_url;\n      Router.push({\n        pathname: \"/checkout\",\n        state: {\n          checkoutData: checkoutDataPass\n        },\n        props: {\n          url: checkoutDataPass.data.embedded_checkout_url\n        },\n        query: {\n          url: checkoutDataPass.data.embedded_checkout_url\n        }\n      });\n    }).catch(error => {\n      console.log(\"checkoutDataError\", error);\n    });\n  }\n\n  render() {\n    const {\n      item\n    } = this.props;\n    console.log(\"item\", item.node);\n    return __jsx(ItemStyles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, item.node.defaultImage.url && __jsx(\"img\", {\n      src: item.node.defaultImage.url,\n      alt: item.node.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), __jsx(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: {\n        pathname: \"/item\",\n        query: {\n          id: item.node.entityId\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, item.node.name))), __jsx(PriceTag, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, formatMoney(item.node.prices.price.value * 100)), __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, Parser(item.node.description)), __jsx(\"div\", {\n      className: \"buttonList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      style: buttonStyles,\n      onClick: event => this.redirectToCheckout(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"BUY NOW\")));\n  }\n\n}\n\n_defineProperty(Item, \"propTypes\", {\n  item: PropTypes.object.isRequired\n});\n\n_defineProperty(Item, \"contextTypes\", {\n  router: PropTypes.object\n});","map":{"version":3,"sources":["/Users/george.fitzgibbons/dev/nextJS/finished-application/frontend/components/Item.js"],"names":["React","Component","PropTypes","Link","Title","ItemStyles","PriceTag","formatMoney","Parser","axios","Router","buttonStyles","fontSize","textAlign","color","outline","padding","boxShadow","backgroundColor","borderRadius","letterSpacing","Item","redirectToCheckout","event","preventDefault","console","log","props","item","node","entityId","post","channel_id","line_items","quantity","product_id","then","checkoutData","JSON","parse","data","checkoutDataPass","embedded_checkout_url","checkoutUrl","push","pathname","state","url","query","catch","error","render","defaultImage","name","id","prices","price","value","description","object","isRequired","router"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Link from \"next/link\";\nimport Title from \"./styles/Title\";\nimport ItemStyles from \"./styles/ItemStyles\";\nimport PriceTag from \"./styles/PriceTag\";\nimport formatMoney from \"../lib/formatMoney\";\nimport Parser from \"html-react-parser\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\n\nconst buttonStyles = {\n  fontSize: \"13px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  outline: \"none\",\n  padding: \"12px 60px\",\n  boxShadow: \"2px 5px 10px rgba(0,0,0,.1)\",\n  backgroundColor: \"rgb(255, 178, 56)\",\n  borderRadius: \"6px\",\n  letterSpacing: \"1.5px\"\n};\n\nexport default class Item extends Component {\n  static propTypes = {\n    item: PropTypes.object.isRequired\n  };\n  static contextTypes = {\n    router: PropTypes.object\n  };\n  async redirectToCheckout(event) {\n    event.preventDefault();\n    console.log(\"prop\", this.props.item.node.entityId);\n\n    axios\n      .post(\"https://3htij6awx3.execute-api.us-east-1.amazonaws.com/dev/cart\", {\n        channel_id: 20825,\n        line_items: [\n          {\n            quantity: 1,\n            product_id: this.props.item.node.entityId\n          }\n        ]\n      })\n      .then(checkoutData => {\n        console.log(\"test\", { checkoutData: JSON.parse(checkoutData.data) });\n\n        const checkoutDataPass = JSON.parse(checkoutData.data);\n        console.log(\"url\", checkoutDataPass.data.embedded_checkout_url);\n        const checkoutUrl = checkoutData.data.embedded_checkout_url;\n        Router.push({\n          pathname: \"/checkout\",\n          state: {\n            checkoutData: checkoutDataPass\n          },\n          props: {\n            url: checkoutDataPass.data.embedded_checkout_url\n          },\n          query: {\n            url: checkoutDataPass.data.embedded_checkout_url\n          }\n        });\n      })\n\n      .catch(error => {\n        console.log(\"checkoutDataError\", error);\n      });\n  }\n\n  render() {\n    const { item } = this.props;\n    console.log(\"item\", item.node);\n    return (\n      <ItemStyles>\n        {item.node.defaultImage.url && (\n          <img src={item.node.defaultImage.url} alt={item.node.name} />\n        )}\n        <Title>\n          <Link\n            href={{\n              pathname: \"/item\",\n              query: { id: item.node.entityId }\n            }}\n          >\n            <a>{item.node.name}</a>\n          </Link>\n        </Title>\n        <PriceTag>{formatMoney(item.node.prices.price.value * 100)}</PriceTag>\n        <div>{Parser(item.node.description)}</div>\n        <div className=\"buttonList\">\n          <button\n            style={buttonStyles}\n            onClick={event => this.redirectToCheckout(event)}\n          >\n            BUY NOW\n          </button>\n        </div>\n      </ItemStyles>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}