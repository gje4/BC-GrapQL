{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/george.fitzgibbons/dev/nextJS/finished-application/frontend/components/Item.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Link from \"next/link\";\nimport Title from \"./styles/Title\";\nimport ItemStyles from \"./styles/ItemStyles\";\nimport PriceTag from \"./styles/PriceTag\";\nimport formatMoney from \"../lib/formatMoney\";\nimport Parser from \"html-react-parser\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nvar buttonStyles = {\n  fontSize: \"13px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  outline: \"none\",\n  padding: \"12px 60px\",\n  boxShadow: \"2px 5px 10px rgba(0,0,0,.1)\",\n  backgroundColor: \"rgb(255, 178, 56)\",\n  borderRadius: \"6px\",\n  letterSpacing: \"1.5px\"\n};\n\nvar Item =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Item, _Component);\n\n  function Item() {\n    _classCallCheck(this, Item);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Item).apply(this, arguments));\n  }\n\n  _createClass(Item, [{\n    key: \"redirectToCheckout\",\n    value: function () {\n      var _redirectToCheckout = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"prop\", this.props.item.node.entityId);\n                axios.post(\"https://3htij6awx3.execute-api.us-east-1.amazonaws.com/dev/cart\", {\n                  channel_id: 20825,\n                  line_items: [{\n                    quantity: 1,\n                    product_id: this.props.item.node.entityId\n                  }]\n                }).then(function (checkoutData) {\n                  console.log(\"test\", {\n                    checkoutData: JSON.parse(checkoutData.data)\n                  });\n                  var checkoutDataPass = JSON.parse(checkoutData.data);\n                  console.log(\"url\", checkoutDataPass.data.embedded_checkout_url);\n                  var checkoutUrl = checkoutData.data.embedded_checkout_url;\n                  Router.push({\n                    pathname: \"/checkout\",\n                    state: {\n                      checkoutData: checkoutDataPass\n                    },\n                    props: {\n                      url: checkoutDataPass.data.embedded_checkout_url\n                    },\n                    query: {\n                      url: checkoutDataPass.data.embedded_checkout_url\n                    }\n                  });\n                })[\"catch\"](function (error) {\n                  console.log(\"checkoutDataError\", error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function redirectToCheckout(_x) {\n        return _redirectToCheckout.apply(this, arguments);\n      }\n\n      return redirectToCheckout;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var item = this.props.item;\n      console.log(\"item\", item.node);\n      return __jsx(ItemStyles, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, item.node.defaultImage.url && __jsx(\"img\", {\n        src: item.node.defaultImage.url,\n        alt: item.node.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), __jsx(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: {\n          pathname: \"/item\",\n          query: {\n            id: item.node.entityId\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, item.node.name))), __jsx(PriceTag, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, formatMoney(item.node.prices.price.value * 100)), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, Parser(item.node.description)), __jsx(\"div\", {\n        className: \"buttonList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        style: buttonStyles,\n        onClick: function onClick(event) {\n          return _this.redirectToCheckout(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"BUY NOW\")));\n    }\n  }]);\n\n  return Item;\n}(Component);\n\n_defineProperty(Item, \"propTypes\", {\n  item: PropTypes.object.isRequired\n});\n\n_defineProperty(Item, \"contextTypes\", {\n  router: PropTypes.object\n});\n\nexport { Item as default };","map":{"version":3,"sources":["/Users/george.fitzgibbons/dev/nextJS/finished-application/frontend/components/Item.js"],"names":["React","Component","PropTypes","Link","Title","ItemStyles","PriceTag","formatMoney","Parser","axios","Router","buttonStyles","fontSize","textAlign","color","outline","padding","boxShadow","backgroundColor","borderRadius","letterSpacing","Item","event","preventDefault","console","log","props","item","node","entityId","post","channel_id","line_items","quantity","product_id","then","checkoutData","JSON","parse","data","checkoutDataPass","embedded_checkout_url","checkoutUrl","push","pathname","state","url","query","error","defaultImage","name","id","prices","price","value","description","redirectToCheckout","object","isRequired","router"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Link from \"next/link\";\nimport Title from \"./styles/Title\";\nimport ItemStyles from \"./styles/ItemStyles\";\nimport PriceTag from \"./styles/PriceTag\";\nimport formatMoney from \"../lib/formatMoney\";\nimport Parser from \"html-react-parser\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\n\nconst buttonStyles = {\n  fontSize: \"13px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  outline: \"none\",\n  padding: \"12px 60px\",\n  boxShadow: \"2px 5px 10px rgba(0,0,0,.1)\",\n  backgroundColor: \"rgb(255, 178, 56)\",\n  borderRadius: \"6px\",\n  letterSpacing: \"1.5px\"\n};\n\nexport default class Item extends Component {\n  static propTypes = {\n    item: PropTypes.object.isRequired\n  };\n  static contextTypes = {\n    router: PropTypes.object\n  };\n  async redirectToCheckout(event) {\n    event.preventDefault();\n    console.log(\"prop\", this.props.item.node.entityId);\n\n    axios\n      .post(\"https://3htij6awx3.execute-api.us-east-1.amazonaws.com/dev/cart\", {\n        channel_id: 20825,\n        line_items: [\n          {\n            quantity: 1,\n            product_id: this.props.item.node.entityId\n          }\n        ]\n      })\n      .then(checkoutData => {\n        console.log(\"test\", { checkoutData: JSON.parse(checkoutData.data) });\n\n        const checkoutDataPass = JSON.parse(checkoutData.data);\n        console.log(\"url\", checkoutDataPass.data.embedded_checkout_url);\n        const checkoutUrl = checkoutData.data.embedded_checkout_url;\n        Router.push({\n          pathname: \"/checkout\",\n          state: {\n            checkoutData: checkoutDataPass\n          },\n          props: {\n            url: checkoutDataPass.data.embedded_checkout_url\n          },\n          query: {\n            url: checkoutDataPass.data.embedded_checkout_url\n          }\n        });\n      })\n\n      .catch(error => {\n        console.log(\"checkoutDataError\", error);\n      });\n  }\n\n  render() {\n    const { item } = this.props;\n    console.log(\"item\", item.node);\n    return (\n      <ItemStyles>\n        {item.node.defaultImage.url && (\n          <img src={item.node.defaultImage.url} alt={item.node.name} />\n        )}\n        <Title>\n          <Link\n            href={{\n              pathname: \"/item\",\n              query: { id: item.node.entityId }\n            }}\n          >\n            <a>{item.node.name}</a>\n          </Link>\n        </Title>\n        <PriceTag>{formatMoney(item.node.prices.price.value * 100)}</PriceTag>\n        <div>{Parser(item.node.description)}</div>\n        <div className=\"buttonList\">\n          <button\n            style={buttonStyles}\n            onClick={event => this.redirectToCheckout(event)}\n          >\n            BUY NOW\n          </button>\n        </div>\n      </ItemStyles>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}